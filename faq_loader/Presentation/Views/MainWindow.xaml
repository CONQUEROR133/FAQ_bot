<Window x:Class="UniversalFAQLoader.Presentation.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:UniversalFAQLoader.Presentation.Views"
        xmlns:controls="clr-namespace:UniversalFAQLoader.Presentation.Controls"
        mc:Ignorable="d"
        Title="ðŸš€ Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¹ FAQ Ð—Ð°Ð³Ñ€ÑƒÐ·Ñ‡Ð¸Ðº - ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ" 
        Height="800" Width="1200"
        WindowStartupLocation="CenterScreen">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ -->
        <Menu Grid.Row="0">
            <MenuItem Header="Ð¤Ð°Ð¹Ð»">
                <MenuItem Header="Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ FAQ Ð´Ð°Ð½Ð½Ñ‹Ðµ" Command="{Binding LoadFAQDataCommand}"/>
                <MenuItem Header="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ" Command="{Binding ClearFAQDataCommand}"/>
                <Separator/>
                <MenuItem Header="Ð’Ñ‹Ñ…Ð¾Ð´" Click="ExitMenuItem_Click"/>
            </MenuItem>
            <MenuItem Header="ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñ‹">
                <MenuItem Header="Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñ‹" Command="{Binding ExecuteAllAlgorithmsCommand}"/>
                <Separator/>
                <MenuItem Header="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¾Ð²" Click="AlgorithmSettingsMenuItem_Click"/>
            </MenuItem>
            <MenuItem Header="Ð¡Ð¿Ñ€Ð°Ð²ÐºÐ°">
                <MenuItem Header="Ðž Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ" Click="AboutMenuItem_Click"/>
            </MenuItem>
        </Menu>

        <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð¾Ð±Ð»Ð°ÑÑ‚ÑŒ -->
        <TabControl Grid.Row="1" Margin="10">
            <!-- Ð’ÐºÐ»Ð°Ð´ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ñ„Ð°Ð¹Ð»Ð¾Ð² -->
            <TabItem Header="ðŸ“ Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ„Ð°Ð¹Ð»Ð¾Ð²">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="250"/>
                    </Grid.ColumnDefinitions>

                    <!-- ÐžÐ±Ð»Ð°ÑÑ‚ÑŒ Ð¿ÐµÑ€ÐµÑ‚Ð°ÑÐºÐ¸Ð²Ð°Ð½Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð² -->
                    <Border Grid.Column="0" BorderBrush="LightGray" BorderThickness="2" 
                            Background="WhiteSmoke" Margin="0,0,10,0"
                            AllowDrop="True" Drop="FileDropArea_Drop" DragEnter="FileDropArea_DragEnter">
                        <Grid>
                            <TextBlock Text="ÐŸÐµÑ€ÐµÑ‚Ð°Ñ‰Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ ÑÑŽÐ´Ð° Ð¸Ð»Ð¸ Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÑƒ Ð½Ð¸Ð¶Ðµ" 
                                       HorizontalAlignment="Center" VerticalAlignment="Center" 
                                       Foreground="Gray" FontSize="14"/>
                            <Button Content="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»Ñ‹..." 
                                    HorizontalAlignment="Center" VerticalAlignment="Bottom" 
                                    Margin="0,0,0,20" Padding="20,10" 
                                    Background="#2196F3" Foreground="White" 
                                    FontSize="14" FontWeight="Bold"
                                    Click="SelectFilesButton_Click"/>
                        </Grid>
                    </Border>

                    <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº -->
                    <StackPanel Grid.Column="1" Margin="10,0,0,0">
                        <TextBlock Text="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸:" FontWeight="Bold" Margin="0,0,0,10"/>
                        
                        <CheckBox x:Name="GroupFilesCheckBox" Content="Ð“Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»Ñ‹" IsChecked="True" Margin="0,0,0,5"/>
                        <CheckBox x:Name="CopyToFilesCheckBox" Content="ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð¿Ð°Ð¿ÐºÑƒ Files" IsChecked="True" Margin="0,0,0,5"/>
                        <CheckBox x:Name="CreateButtonsCheckBox" Content="Ð¡Ð¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð´Ð»Ñ Ð±Ð¾Ñ‚Ð°" IsChecked="True" Margin="0,0,0,15"/>
                        
                        <TextBlock Text="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹:" Margin="0,0,0,5"/>
                        <TextBox x:Name="GroupNameTextBox" Text="ÐÐ»ÑŒÑ„Ð°" Margin="0,0,0,15"/>
                        
                        <Button Content="ðŸš€ Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð² FAQ" 
                                Background="#4CAF50" Foreground="White" 
                                Padding="10,5" Margin="0,0,0,20"
                                Click="LoadToFAQButton_Click"/>
                        
                        <TextBlock Text="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock x:Name="StatusTextBlock" Text="Ð“Ð¾Ñ‚Ð¾Ð² Ðº Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ" Foreground="Green"/>
                    </StackPanel>
                </Grid>
            </TabItem>
            
            <!-- Ð’ÐºÐ»Ð°Ð´ÐºÐ° Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ -->
            <TabItem Header="ðŸ§  ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñ‹">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="300"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð°Ð¼Ð¸ -->
                    <StackPanel Grid.Column="0" Margin="10">
                        <TextBlock Text="ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñ‹:" FontWeight="Bold" Margin="0,0,0,10"/>
                        
                        <CheckBox Content="ðŸ” ÐÐ½Ð°Ð»Ð¸Ð· Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹" IsChecked="{Binding Algorithms[0].IsEnabled}" Margin="0,0,0,5"/>
                        <CheckBox Content="ðŸŽ¯ Ð¡ÐµÐ¼Ð°Ð½Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð³Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ°" IsChecked="{Binding Algorithms[1].IsEnabled}" Margin="0,0,0,5"/>
                        <CheckBox Content="ðŸ”— Ð£Ð¼Ð½Ð¾Ðµ ÑÐ²ÑÐ·Ñ‹Ð²Ð°Ð½Ð¸Ðµ" IsChecked="{Binding Algorithms[2].IsEnabled}" Margin="0,0,0,5"/>
                        <CheckBox Content="âš¡ ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²" IsChecked="{Binding Algorithms[3].IsEnabled}" Margin="0,0,0,15"/>
                        
                        <Separator Margin="0,10"/>
                        
                        <TextBlock Text="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸:" FontWeight="Bold" Margin="0,0,0,10"/>
                        <StackPanel>
                            <TextBlock Text="ÐŸÐ¾Ñ€Ð¾Ð³ ÑÐµÐ¼Ð°Ð½Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ ÑÑ…Ð¾Ð¶ÐµÑÑ‚Ð¸:"/>
                            <Slider Value="0.8" Minimum="0.5" Maximum="1.0" 
                                    TickPlacement="BottomRight" TickFrequency="0.1" Margin="0,0,0,10"/>
                            
                            <TextBlock Text="ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼ ÑÐ²ÑÐ·ÐµÐ¹ Ð½Ð° ÑƒÐ·ÐµÐ»:"/>
                            <Slider Value="5" Minimum="1" Maximum="20" 
                                    TickPlacement="BottomRight" TickFrequency="1" Margin="0,0,0,20"/>
                        </StackPanel>
                        
                        <Button Content="ðŸš€ ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñ‹" 
                                Command="{Binding ExecuteAllAlgorithmsCommand}"
                                Background="#2196F3" Foreground="White" 
                                Padding="10,5" Margin="0,0,0,20"/>
                        
                        <TextBlock Text="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ:" FontWeight="Bold" Margin="0,0,0,5"/>
                        <ProgressBar Value="{Binding ProgressPercentage}" Height="20" Margin="0,0,0,5"/>
                        <TextBlock Text="{Binding StatusMessage}" TextWrapping="Wrap" Foreground="Blue"/>
                    </StackPanel>
                    
                    <!-- Ð’Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ FAQ Ð³Ñ€Ð°Ñ„Ð° -->
                    <Border Grid.Column="1" BorderBrush="Gray" BorderThickness="1" Margin="10">
                        <controls:FAQGraphVisualization x:Name="FAQGraph"/>
                    </Border>
                </Grid>
            </TabItem>
            
            <!-- Ð’ÐºÐ»Ð°Ð´ÐºÐ° Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ð°Ð½Ð°Ð»Ð¸Ð·Ð° -->
            <TabItem Header="ðŸ“Š Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Ð¡Ð²Ð¾Ð´ÐºÐ° Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² -->
                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                        <Border Background="#E3F2FD" Padding="10" Margin="0,0,10,0">
                            <StackPanel>
                                <TextBlock Text="ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð¾ ÑƒÐ·Ð»Ð¾Ð²" FontWeight="Bold"/>
                                <TextBlock Text="15" FontSize="20" Foreground="#2196F3"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Background="#E8F5E9" Padding="10" Margin="0,0,10,0">
                            <StackPanel>
                                <TextBlock Text="ÐÐ°Ð¹Ð´ÐµÐ½Ð¾ ÑÐ²ÑÐ·ÐµÐ¹" FontWeight="Bold"/>
                                <TextBlock Text="42" FontSize="20" Foreground="#4CAF50"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Background="#FFF3E0" Padding="10" Margin="0,0,10,0">
                            <StackPanel>
                                <TextBlock Text="ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹" FontWeight="Bold"/>
                                <TextBlock Text="8" FontSize="20" Foreground="#FF9800"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Background="#FFEBEE" Padding="10">
                            <StackPanel>
                                <TextBlock Text="Ð’Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ" FontWeight="Bold"/>
                                <TextBlock Text="2.3 ÑÐµÐº" FontSize="20" Foreground="#F44336"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                    
                    <!-- Ð”ÐµÑ‚Ð°Ð»Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² -->
                    <TabControl Grid.Row="1">
                        <TabItem Header="Ð¡Ð²ÑÐ·Ð¸">
                            <DataGrid Margin="5" AutoGenerateColumns="False" IsReadOnly="True">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Ð¢Ð¸Ð¿ ÑÐ²ÑÐ·Ð¸" Binding="{Binding Type}" Width="*"/>
                                    <DataGridTextColumn Header="Ð˜ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹ ÑƒÐ·ÐµÐ»" Binding="{Binding SourceNodeId}" Width="*"/>
                                    <DataGridTextColumn Header="Ð¦ÐµÐ»ÐµÐ²Ð¾Ð¹ ÑƒÐ·ÐµÐ»" Binding="{Binding TargetNodeId}" Width="*"/>
                                    <DataGridTextColumn Header="Ð¡Ð¸Ð»Ð°" Binding="{Binding Strength}" Width="100"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </TabItem>
                        
                        <TabItem Header="ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ">
                            <DataGrid Margin="5" AutoGenerateColumns="False" IsReadOnly="True">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Ð¢Ð¸Ð¿" Binding="{Binding Type}" Width="150"/>
                                    <DataGridTextColumn Header="ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ" Binding="{Binding Description}" Width="*"/>
                                    <DataGridTextColumn Header="ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚" Binding="{Binding Priority}" Width="100"/>
                                    <DataGridTextColumn Header="Ð£Ð²ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ" Binding="{Binding Confidence}" Width="100"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </TabItem>
                        
                        <TabItem Header="Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°">
                            <Grid Margin="10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                    <TextBlock Text="ÐžÐ±Ñ‰Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°:" FontWeight="Bold" Margin="0,0,0,10"/>
                                    <TextBlock Text="â€¢ Ð’Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ: 2.3 ÑÐµÐºÑƒÐ½Ð´Ñ‹"/>
                                    <TextBlock Text="â€¢ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¾ Ð¿Ð°Ð¼ÑÑ‚Ð¸: 15 ÐœÐ‘"/>
                                    <TextBlock Text="â€¢ ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð¾ ÑƒÐ·Ð»Ð¾Ð²: 15"/>
                                    <TextBlock Text="â€¢ ÐÐ°Ð¹Ð´ÐµÐ½Ð¾ ÑÐ²ÑÐ·ÐµÐ¹: 42"/>
                                    <TextBlock Text="â€¢ Ð¡Ñ€ÐµÐ´Ð½ÑÑ ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ: 85%"/>
                                </StackPanel>
                                
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="ÐŸÐ¾ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð°Ð¼:" FontWeight="Bold" Margin="0,0,0,10"/>
                                    <TextBlock Text="â€¢ ÐÐ½Ð°Ð»Ð¸Ð· Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹: 18 ÑÐ²ÑÐ·ÐµÐ¹"/>
                                    <TextBlock Text="â€¢ Ð¡ÐµÐ¼Ð°Ð½Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð³Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ°: 3 Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹"/>
                                    <TextBlock Text="â€¢ Ð£Ð¼Ð½Ð¾Ðµ ÑÐ²ÑÐ·Ñ‹Ð²Ð°Ð½Ð¸Ðµ: 15 ÑÐ²ÑÐ·ÐµÐ¹"/>
                                    <TextBlock Text="â€¢ ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²: 6 ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ð¹"/>
                                </StackPanel>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Grid>
            </TabItem>
        </TabControl>

        <!-- Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð±Ð°Ñ€ -->
        <StatusBar Grid.Row="2" Background="LightGray">
            <StatusBarItem>
                <TextBlock Text="{Binding StatusMessage}" FontWeight="Bold"/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Ð£Ð·Ð»Ð¾Ð² FAQ: "/>
                    <TextBlock Text="{Binding FAQNodes.Count}"/>
                </StackPanel>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñ‹: "/>
                    <TextBlock Text="{Binding Algorithms.Count}"/>
                </StackPanel>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>